<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Mesh generator, providing the mesh with tree information.">
    <meta name="author" content="University of Siegen" >
    <link rel="icon" href="../../favicon.png">

    <title>Transformation &ndash; Seeder</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../../css/fontawesome.min.css" rel="stylesheet">
    <link href="../../css/brands.min.css" rel="stylesheet">
    <link href="../../css/regular.min.css" rel="stylesheet">
    <link href="../../css/solid.min.css" rel="stylesheet">
    <link href="../../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../../css/local.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <script src="../../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../../index.html">Seeder </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../index.html">Build and run Seeder</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>Transformation</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../index.html'>Build and run Seeder</a></li>
                <li class="breadcrumb-item"><a href='index.html'>Feature Overview</a></li>
              <li class="breadcrumb-item active" aria-current="page">Transformation</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Build and run Seeder</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="../attributes/index.html">Attribute</a>
              <a class="nav-link" href="index.html">Feature Overview</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="boundary_cond.html">Boundary conditions</a>
              <a class="nav-link" href="colored_seeds.html">Colored seeds</a>
              <a class="nav-link" href="stl.html">STL</a>
              <a class="nav-link" href="sub_boundaries.html">Subresolved boundaries</a>
              <a class="nav-link active disabled" href="transformation.html">Transformation</a>

                </nav>
              <a class="nav-link" href="../sdr_algorithm.html">Seeder Algorithm</a>
              <a class="nav-link" href="../testsuite_tutorials/index.html">Testsuite tutorials</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../testsuite_tutorials/boxes.html">Box</a>
              <a class="nav-link" href="../testsuite_tutorials/cylinder.html">Cylinders</a>
              <a class="nav-link" href="../testsuite_tutorials/ful_per_cube.html">Fully periodic cube</a>
              <a class="nav-link" href="../testsuite_tutorials/lines.html">Line</a>
              <a class="nav-link" href="../testsuite_tutorials/per_plane_example.html">How to define periodic planes in lua file?</a>
              <a class="nav-link" href="../testsuite_tutorials/periodic_planes.html">Periodic planes</a>
              <a class="nav-link" href="../testsuite_tutorials/planes.html">Plane</a>
              <a class="nav-link" href="../testsuite_tutorials/points.html">Points</a>
              <a class="nav-link" href="../testsuite_tutorials/special/index.html">Special geometries</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../testsuite_tutorials/special/spacer.html">Spacers</a>

                </nav>
              <a class="nav-link" href="../testsuite_tutorials/sphere.html">Sphere</a>
              <a class="nav-link" href="../testsuite_tutorials/triangle.html">Triangle</a>

                </nav>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <p>Transformation is used to scale, translate, rotate and reflect
the geometrical objects. Trasformation table is defined in the spatial
object table in the lua config file. If the geometry in the spatial
object contains multiple geometries then the transformation defined in that
spatial object is applied to all the geometries.</p>
<p>If both translation and deformation are defined for the geometry object
then the deformation is applied first and then the deformed geometry
is then translated.</p>
<ul>
<li>Translation</li>
</ul>
<p>Translation is a table with three entries defining x,y,z coordinate values
to translate the geometrical object.
Gometry is translated just by adding the position of the geometry with 
given translation vector.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><code><span class="n">spatial_object</span><span class="o">=</span><span class="p">{</span>
  <span class="p">...</span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span><span class="p">...</span>
  <span class="p">...</span><span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="p">...</span>
  <span class="n">transformation</span><span class="o">=</span><span class="p">{</span>
    <span class="n">translation</span><span class="o">=</span><span class="p">{</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">}</span> <span class="c1">-- translating the object along y-axis by 2.0</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>Deformation</li>
</ul>
<p>Deformation table can be used to scale, rotate and reflect the geometry.
Deformation cane be defined as const, vector and matrix. In the code,
it is converted to matrix with 3x3. Matrix is multiplied with a geometry
vector to scale, rotate or reflect depends on the given matrix.</p>
<ul>
<li>Scaling</li>
</ul>
<p>If deformation is const, then geometry is scaled in all three directions
with const and it is vector with three entries, then geometry is scaled in
x,y,z directions with different factor.
Example:
* Constant scaling in three direction</p>
<div class="codehilite"><pre><span></span><code> <span class="n">spatial_object</span><span class="o">=</span><span class="p">{</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="n">transformation</span><span class="o">=</span><span class="p">{</span>
     <span class="n">deformation</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="c1">-- scaled in all direction by 2.0</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>Different scaling in three direction</li>
</ul>
<div class="codehilite"><pre><span></span><code> <span class="n">spatial_object</span><span class="o">=</span><span class="p">{</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="n">transformation</span><span class="o">=</span><span class="p">{</span>
     <span class="n">deformation</span> <span class="o">=</span> <span class="p">{</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>Reflection
Below example reflect the geometry object in y-axis</li>
</ul>
<div class="codehilite"><pre><span></span><code> <span class="n">spatial_object</span><span class="o">=</span><span class="p">{</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="n">transformation</span><span class="o">=</span><span class="p">{</span>
     <span class="n">deformation</span> <span class="o">=</span> <span class="p">{</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>Rotation
 Rotation is defined by the deformation table with 3x3 entries.
 Below example rotate the geometry object in z-axis in anti-clockwise
 direction by 45°.</li>
</ul>
<div class="codehilite"><pre><span></span><code> <span class="n">spatial_object</span><span class="o">=</span><span class="p">{</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="p">...</span><span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="p">...</span>
   <span class="n">transformation</span><span class="o">=</span><span class="p">{</span>
     <span class="n">deformation</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="p">{</span> <span class="mf">0.5</span><span class="o">*</span><span class="nb">math.cos</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">180</span><span class="p">),</span> 
                      <span class="o">-</span><span class="mf">0.5</span><span class="o">*</span><span class="nb">math.sin</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">180</span><span class="p">),</span> 
                      <span class="mf">0.0</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="mf">0.5</span><span class="o">*</span><span class="nb">math.sin</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">180</span><span class="p">),</span> 
                      <span class="mf">0.5</span><span class="o">*</span><span class="nb">math.cos</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">180</span><span class="p">),</span> 
                      <span class="mf">0.0</span> <span class="p">},</span>
                    <span class="p">{</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span> <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>More information on rotatation matrix can be found in
<a href="http://en.wikipedia.org/wiki/Rotation_(mathematics)">Rotation</a>.
It is also possible to combine scaling, reflection and rotation in the 
deformation matrix.
Example lua file is available at <code>testsuite/transform/seeder.lua</code>.</p>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Seeder
 was developed by University of Siegen<br>              &copy; 2025 
<br /><small>3b3e344aec0a</small></p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-05-23T12:12:58.012980+0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>